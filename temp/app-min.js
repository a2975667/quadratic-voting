QuadraticVoting.directive("qvApp",function(){var t=QuadraticVoting.App;return{templateUrl:"/src/quadratic-voting/app/app.html",controller:t.controller,scope:{}}}),QuadraticVoting.App={},QuadraticVoting.App.controller=function(t,e){function o(t){for(var e=0;e<a.votes.length;e++){var o=a.votes[e];if(o.option==t)return o}console.error("Not found")}function n(t){var e=t*t;return e}var a=t;a.component=QuadraticVoting.App,a.ballotItems=[{question:"Drinks",options:[{name:"Water"},{name:"Milk"},{name:"Tequila"}]},{question:"Appetizer",options:[{name:"Nuts"},{name:"Cheese"},{name:"Oysters"}]},{question:"Salad",options:[{name:"Greens"},{name:"Potato Salad"},{name:"Egg salad"}]},{question:"Entree",options:[{name:"Fish"},{name:"Pizza"},{name:"Ratatouille"}]},{question:"Dessert",options:[{name:"Cake"},{name:"Ice cream"},{name:"Tequila"}]}],a.votes=[],$(a.ballotItems).each(function(t,e){$(e.options).each(function(t,e){a.votes.push({option:e,votes:0})})}),a.votesPerPerson=10*a.ballotItems.length,a.getVotesRemaining=function(){var t=0;$(a.votes).each(function(e,o){for(var e=1;e<=o.votes;e++){var n=a.getVoteCost(e);t+=n}});var e=a.votesPerPerson-t;return e},a.getVoteCount=function(t){var e=0,n=o(t);return e+=n.votes},a.addVote=function(t){if(!(a.getVotesRemaining()<=0)){var e=o(t),n=e.votes+1,r=a.getVoteCost(n);e.votes++}},a.removeVote=function(t){var e=o(t),n=e.votes-1,r=a.getVoteCost(n);e.votes--},a.doShowAddVoteButton=function(t){var e=o(t),n=e.votes+1,r=a.getVoteCost(n),i=a.getVotesRemaining(),s=i>=r;return s},a.doShowRemoveVoteButton=function(t){var e=o(t);return e.votes>0},a.getVoteCost=function(t){var e=n(t);return e}};