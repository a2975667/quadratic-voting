QuadraticVoting.directive("qvApp",function(){var t=QuadraticVoting.App;return{templateUrl:"/src/quadratic-voting/app/app.html",controller:t.controller,scope:{}}}),QuadraticVoting.App={},QuadraticVoting.App.controller=function(t,e){function o(t){for(var e=0;e<i.votes.length;e++){var o=i.votes[e];if(o.option==t)return o}console.error("Not found")}function n(t){}function a(t){var e=Math.pow(2,t-1);return e}function r(t){var e=Math.pow(2,t-1);return e}var i=t;i.component=QuadraticVoting.App,i.ballotItems=[{question:"Drinks",options:[{name:"Water"},{name:"Milk"},{name:"Tequila"}]},{question:"Appetizer",options:[{name:"Nuts"},{name:"Cheese"},{name:"Oysters"}]},{question:"Salad",options:[{name:"Greens"},{name:"Potato Salad"},{name:"Egg salad"}]},{question:"Entree",options:[{name:"Fish"},{name:"Pizza"},{name:"Ratatouille"}]},{question:"Dessert",options:[{name:"Cake"},{name:"Ice cream"},{name:"Tequila"}]}],i.votes=[],$(i.ballotItems).each(function(t,e){$(e.options).each(function(t,e){i.votes.push({option:e,votes:0})})}),i.votesPerPerson=3*i.ballotItems.length,i.getVotesRemaining=function(){var t=0;$(i.votes).each(function(e,o){for(var e=1;e<=o.votes;e++){var n=i.getVoteCost(e);t+=n}});var e=i.votesPerPerson-t;return e},i.getVoteCount=function(t){var e=0,n=o(t);return e+=n.votes},i.addVote=function(t){if(!(i.getVotesRemaining()<=0)){var e=o(t),n=e.votes+1,a=i.getVoteCost(n);e.votes++}},i.removeVote=function(t){var e=o(t),n=e.votes-1,a=i.getVoteCost(n);e.votes--},i.doShowAddVoteButton=function(t){var e=o(t),n=e.votes+1,a=i.getVoteCost(n),r=i.getVotesRemaining(),s=r>=a;return s},i.doShowRemoveVoteButton=function(t){var e=o(t);return e.votes>0},i.getVoteCost=function(t){var e=r,o=e(t);return o}};